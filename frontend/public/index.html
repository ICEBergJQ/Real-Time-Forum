<!-- File: index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Page</title>
    <link rel="stylesheet" href="../src/css/style.css">
</head>
<body>
    <!-- Navigation Bar -->
    <header class="navbar">
        <div class="container">
            <div class="logo">
                <h1>My Forum</h1>
            </div>
            <nav>
                <ul class="nav-links">
                    <li><a href="/home">Home</a></li>
                    <li><a href="/categories">Categories</a></li>
                    <li><a href="/my-posts">My Posts</a></li>
                    <li><a href="/popular-posts">Popular Posts</a></li>
                    <li><a href="/help">Help</a></li>
                </ul>
            </nav>
            <div class="nav-actions">
                <button class="btn login">Login</button>
                <button class="btn start-topic">Register</button>
            </div>
        </div>
    </header>


    <!-- for login -->
    <div id="dynamicContent"></div>

    

    <!-- Main Content -->
    <main class="main-content">
        <!-- Homepage or Feed -->
        <section class="feed">
            <h2>Recent Posts</h2>
            <div class="post-list">
                <div class="post-preview">
                    <h3><a href="/post/1">Post Title</a></h3>
                    <p>By <strong>Username</strong> | Category: <em>Tech</em> | Posted on: 2024-11-27</p>
                    <p class="post-snippet">A short preview of the post...</p>
                    <a href="/post/1" class="btn">Read More</a>
                </div>
                <!-- Repeat for other posts -->
            </div>
        </section>
    
        <!-- Post Details -->
        <section class="post-details">
            <button class="btn like-btn">üëç Like (20)</button>
            <button class="btn dislike-btn">üëé Dislike (3)</button>
            <button class="btn comment-btn">üí¨ Comment</button>
            <!-- comment section -->
            <div class="comments-section hidden">
                <h3>Comments</h3>
                <div class="comment">
                    <p><strong>Username</strong> | Posted on: 2024-11-27</p>
                    <p>This is a comment!</p>
                    <button class="btn like-btn">üëç Like (5)</button>
                    <button class="btn dislike-btn">üëé Dislike (1)</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-sections">
                <div>
                    <h4>Forum</h4>
                    <ul>
                        <li><a href="/categories">Categories</a></li>
                    <li><a href="/popular-posts">Popular Posts</a></li>
                    <li><a href="/help">Help</a></li>
                    </ul>
                </div>
                <div>
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="/terms">Terms of Service</a></li>
                    <li><a href="/privacy">Privacy Policy</a></li>
                    </ul>
                </div>
                <div>
                    <h4>Support</h4>
                    <ul>
                        <li><a href="/contact">Contact Us</a></li>
                    <li><a href="/report">Report Issue</a></li>
                    </ul>
                </div>
            </div>
            <p>&copy; 2024 My Forum. All rights reserved.</p>
        </div>
    </footer>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const commentBtns = document.querySelectorAll(".comment-btn");
            commentBtns.forEach((btn) => {
                btn.addEventListener("click", () => {
                    const commentsSection = btn.closest(".post-details").querySelector(".comments-section");
                    commentsSection.classList.toggle("hidden");
                });
            });
        });


        document.addEventListener("DOMContentLoaded", () => {
        const loginBtn = document.querySelector(".btn.login");
        const dynamicContent = document.querySelector("#dynamicContent");

        // Load the login modal from login.html
        fetch("login.html")
            .then((response) => {
                if (!response.ok) throw new Error("Failed to load login modal");
                return response.text();
            })
            .then((html) => {
                dynamicContent.innerHTML = html;
        
                const loginModal = document.querySelector("#loginModal");
                const closeModal = loginModal.querySelector(".close");

                // Show the login modal when the login button is clicked
                loginBtn.addEventListener("click", () => {
                    loginModal.classList.remove("hidden");
                });

                // Hide the modal when the close button is clicked
                closeModal.addEventListener("click", () => {
                    loginModal.classList.add("hidden");
                });

                // Hide the modal when clicking outside the modal content
                window.addEventListener("click", (event) => {
                    if (event.target === loginModal) {
                        loginModal.classList.add("hidden");
                    }
                });
            })
            .catch((error) => console.error(error));
        });
    </script>
</body>
</html>
